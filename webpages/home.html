<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Home â€” Connectova</title>
  <link rel="stylesheet" href="../styles/main.css" />
  <script defer src="../scripts/main.js"></script>
</head>
<body>
  <header>
    <div class="title">
      <h1>Connectova</h1>
      <p>Learn Â· Teach Â· Connect</p>
    </div>
    <nav>
      <a href="login.html" id="logout">Logout</a>
      <!-- Navigate to remove.html instead of deleting directly -->
      <a href="remove.html" id="deleteAccount" style="color:#ffb3b3; font-size:16px; text-decoration:none; cursor:pointer;">
        Remove Account
      </a>
    </nav>
  </header>

  <main>
    <section class="section">
      <h2>Welcome</h2>
      <p>Select your dashboard below. Only the box matching your role will open â€” other boxes will show an access warning.</p>
    </section>

    <section class="section">
      <div class="grid-3">
        <div class="box" id="studentBox">
          <div class="icon">ğŸ§‘â€ğŸ“</div>
          <h3>Student Dashboard</h3>
          <p>Access courses, AI quizzes and progress.</p>
          <div style="margin-top:12px;">
            <button class="btn" id="enterStudent">Enter</button>
          </div>
        </div>

        <div class="box" id="teacherBox">
          <div class="icon">ğŸ‘©â€ğŸ«</div>
          <h3>Teacher Dashboard</h3>
          <p>Upload materials, create quizzes, and view submissions.</p>
          <div style="margin-top:12px;">
            <button class="btn" id="enterTeacher">Enter</button>
          </div>
        </div>

        <div class="box" id="parentBox">
          <div class="icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</div>
          <h3>Parent Dashboard</h3>
          <p>Monitor student progress and message teachers.</p>
          <div style="margin-top:12px;">
            <button class="btn" id="enterParent">Enter</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>Â© 2025 Connectova â€” Your learning hub</footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const email = localStorage.getItem('loggedInUser');
      const role = localStorage.getItem('userRole');
      if (!email || !role) {
        alert('Please login first.');
        window.location.href = 'login.html';
        return;
      }

      const enterStudent = document.getElementById('enterStudent');
      const enterTeacher = document.getElementById('enterTeacher');
      const enterParent = document.getElementById('enterParent');

      function deny() { alert('Access Denied â€” You are not authorized to view this section.'); }

      enterStudent.addEventListener('click', () => { if (role === 'student') window.location.href = 'student.html'; else deny(); });
      enterTeacher.addEventListener('click', () => { if (role === 'teacher') window.location.href = 'teacher.html'; else deny(); });
      enterParent.addEventListener('click', () => { if (role === 'parent') window.location.href = 'parent.html'; else deny(); });
    });
  </script>
</body>
</html>
